{"version":3,"sources":["pages/SingleProductPage.js"],"names":["Wrapper","styled","section","Screen","md","SingleProductPage","navigate","useNavigate","id","useParams","useProductsContext","product","single_product","loading","single_product_loading","error","single_product_error","fetchSingleProduct","title","price","image","category","description","rating","useEffect","setTimeout","className","products","src","alt","to","stars"],"mappings":"6MA8EMA,EAAUC,IAAOC,QAAV,uhCAUPC,IAAOC,GAVA,yEAqBLD,IAAOC,GArBF,wDAqDEC,UAzHW,WACxB,IAAMC,EAAWC,cACTC,EAAOC,cAAPD,GAER,EAKIE,cAJcC,EADlB,EACEC,eACwBC,EAF1B,EAEEC,uBACsBC,EAHxB,EAGEC,qBACAC,EAJF,EAIEA,mBAGMC,EAAuDP,EAAvDO,MAAOC,EAAgDR,EAAhDQ,MAAOC,EAAyCT,EAAzCS,MAAOC,EAAkCV,EAAlCU,SAAUC,EAAwBX,EAAxBW,YAAaC,EAAWZ,EAAXY,OAcpD,OAZAC,qBAAU,WACRP,EAAmBT,KAClB,CAACA,IAEJgB,qBAAU,WACJT,GACFU,YAAW,WACTnB,EAAS,OACR,OAEJ,CAACS,IAEAF,EAEA,qBAAKa,UAAU,WAAf,SACE,cAAC,IAAD,MAKFX,EAEA,qBAAKW,UAAU,WAAf,SACE,cAAC,IAAD,MAMJ,iCACE,cAAC,IAAD,CAAYR,MAAOA,EAAOS,UAAQ,IAClC,cAAC3B,EAAD,CAAS0B,UAAU,OAAnB,SACE,oCACE,qBAAKA,UAAU,eAAf,SACE,qBAAKE,IAAKR,EAAOS,IAAKX,MAExB,sBAAKQ,UAAU,gBAAf,UACE,cAAC,IAAD,CAAMI,GAAG,YAAT,8BACA,6BAAKZ,IACL,cAAC,IAAD,CAAOa,MAAOR,IACd,oBAAGG,UAAU,cAAb,qBACU,qCAAQP,QAElB,oBAAGO,UAAU,iBAAb,wBACa,+BAAOL,OAEpB,4BAAIC,IACJ,cAAC,IAAD,CAAWX,QAASA","file":"static/js/9.d7eb877f.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\nimport { useProductsContext } from \"../contexts/products_context\";\r\n\r\nimport { Breadcrumb, Error, Loading, Stars, AddToCart } from \"../components\";\r\n\r\nimport Screen from \"../utils/Screen\";\r\n\r\nconst SingleProductPage = () => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const {\r\n    single_product: product,\r\n    single_product_loading: loading,\r\n    single_product_error: error,\r\n    fetchSingleProduct,\r\n  } = useProductsContext();\r\n\r\n  const { title, price, image, category, description, rating } = product;\r\n\r\n  useEffect(() => {\r\n    fetchSingleProduct(id);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 3000);\r\n    }\r\n  }, [error]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"page-w-b\">\r\n        <Loading />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"page-w-b\">\r\n        <Error />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Breadcrumb title={title} products />\r\n      <Wrapper className=\"page\">\r\n        <article>\r\n          <div className=\"product__img\">\r\n            <img src={image} alt={title} />\r\n          </div>\r\n          <div className=\"product__info\">\r\n            <Link to=\"/products\">back to products</Link>\r\n            <h2>{title}</h2>\r\n            <Stars stars={rating} />\r\n            <p className=\"info__price\">\r\n              Price : <span>${price}</span>\r\n            </p>\r\n            <p className=\"info__category\">\r\n              Category : <span>{category}</span>\r\n            </p>\r\n            <p>{description}</p>\r\n            <AddToCart product={product} />\r\n          </div>\r\n        </article>\r\n      </Wrapper>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  article {\r\n    padding: 1.5rem 1rem;\r\n    background: #fff;\r\n    display: grid;\r\n    justify-items: center;\r\n    gap: 2rem;\r\n    ${Screen.md`\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    `}\r\n    .product__img {\r\n      img {\r\n        max-width: 20rem;\r\n      }\r\n    }\r\n    .product__info {\r\n      display: grid;\r\n      gap: 1rem;\r\n      ${Screen.md`\r\n    grid-column: 2/4;\r\n    `}\r\n      a {\r\n        height: max-content;\r\n        width: max-content;\r\n        padding: 0.2rem 1.5rem;\r\n        letter-spacing: 1px;\r\n        color: var(--gray-color-1);\r\n        transition: var(--transition);\r\n        border: 0.2rem solid var(--red-color-1);\r\n        &:hover {\r\n          background: var(--red-color-1);\r\n          color: var(--white-color);\r\n        }\r\n      }\r\n      .info__price {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--red-color-1);\r\n        }\r\n      }\r\n      .info__category {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--gray-color-1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default SingleProductPage;\r\n"],"sourceRoot":""}